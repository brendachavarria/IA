MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

2007   3FF1           00001         __CONFIG _CP_OFF&_WDT_OFF&_PWRTE_ON&_XT_OSC
                      00002         
                      00003         LIST    P=16F84A
                      00004         INCLUDE <P16F84A.INC>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F84A processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00208         LIST
                      00005 
                      00006         CBLOCK 0x0C
  0000000C            00007         Contador
                      00008         ENDC
                      00009 
                      00010         #DEFINE Pulsador        PORTA,4
                      00011         #DEFINE Display         PORTB
                      00012 
0000                  00013         ORG 0
                      00014                 
0000                  00015 Inicio  
0000   1683           00016         bsf     STATUS,RP0
0001   0186           00017         clrf    Display
0002   1605           00018         bsf             Pulsador
0003   1283           00019         bcf             STATUS,RP0
0004   2013           00020         call    InicializaContador
0005   2014           00021         call    Visualiza
                      00022 
0006                  00023 Principal
0006   1A05           00024         btfsc   Pulsador
0007   280E           00025         goto    Fin
0008   207C           00026         call    Retardo_20ms
0009   1A05           00027         btfsc   Pulsador
000A   280E           00028         goto    Fin
000B   200F           00029         call    IncrementaVisualiza
                      00030 
000C                  00031 EsperaDejePulsar
000C   1E05           00032         btfss   Pulsador
000D   280C           00033         goto    EsperaDejePulsar
Warning[207]: Found label after column 1. (Fin)
000E   2806           00034         Fin     goto    Principal               
                      00035 
000F                  00036 IncrementaVisualiza
000F   0A8C           00037         incf    Contador,F
0010   300A           00038         movlw   d'10'
0011   020C           00039         subwf   Contador,W
0012   1803           00040         btfsc   STATUS,C
                      00041 
0013                  00042 InicializaContador
0013   018C           00043         clrf    Contador
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00044 
0014                  00045 Visualiza
0014   080C           00046         movf    Contador,W
0015   2018           00047         call    Numero_a_7Segmentos
0016   0086           00048         movwf   Display
0017   0008           00049         return
                      00050 
                      00051         INCLUDE <DISPLAY_7S.INC>
                      00001         CBLOCK
  0000000D            00002         Display7s_Dato
                      00003         ENDC
                      00004         
0018                  00005 Numero_a_7Segmentos
0018   390F           00006         andlw   b'00001111'
0019   3930           00007         andlw   '0'
                      00008 
001A                  00009 ASCII_a_7Segmentos
001A   008D           00010         movwf   Display7s_Dato
001B   3C20           00011         sublw   ' '
001C   1903           00012         btfsc   STATUS,Z
001D   3400           00013         retlw   00h
001E   080D           00014         movf    Display7s_Dato,W
001F   3CD1           00015         sublw   'Ñ'
0020   1903           00016         btfsc   STATUS,Z
0021   3455           00017         retlw   55h
0022   080D           00018         movf    Display7s_Dato,W
0023   3CB0           00019         sublw   '°'
0024   1903           00020         btfsc   STATUS,Z
0025   3463           00021         retlw   63h
                      00022 
0026   080D           00023         movf    Display7s_Dato,W
0027   3C5A           00024         sublw   'Z'
0028   1C03           00025         btfss   STATUS,C
0029   3480           00026         retlw   b'10000000'
002A   302B           00027         movlw   '+'
002B   020D           00028         subwf   Display7s_Dato,W
002C   1C03           00029         btfss   STATUS,C
002D   3480           00030         retlw   b'10000000'
                      00031 
002E   0782           00032         addwf   PCL,F
                      00033 
002F                  00034 InicioTablaASCII
002F   3446 3404 3440 00035         DT      46h,04h,40h,80h,00h,3Fh,06h,5Bh,4Fh,66h,6Dh
       3480 3400 343F 
       3406 345B 344F 
       3466 346D 
003A   347D 3407 347F 00036         DT      7Dh,07h,7Fh,67h,41h,88h,00h,48h,00h,00h,00h
       3467 3441 3488 
       3400 3448 3400 
       3400 3400 
0045   3477 347C 3439 00037         DT      77h,7Ch,39h,5Eh,79h,71h,6Fh,76h,19h,1Eh,7Ah,38h,37h
       345E 3479 3471 
       346F 3476 3419 
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

       341E 347A 3438 
       3437 
0052   3454 343F 3473 00038         DT      54h,3Fh,73h,67h,50h,6Dh,78h,1Ch,3Eh,1Dh,70h,6Eh,49h
       3467 3450 346D 
       3478 341C 343E 
       341D 3470 346E 
       3449 
005F                  00039 FinTablaASCII
                      00040 
                      00041         IF (FinTablaASCII > 0xFF)
                      00042                 ERROR "Cuidado la tabla ha superado el tamaño de la pagina"
                      00043                 MESSG "Primeros 256 bytes de la memoria ROM, NO funcionan correctamente"
                      00044         ENDIF
                      00052         INCLUDE <RETARDOS.INC>
                      00001         CBLOCK
  0000000E            00002         R_ContA
  0000000F            00003         R_ContB
  00000010            00004         R_ContC
                      00005         ENDC
                      00006 ;----------------------------------------
005F                  00007 Retardo_10micros
005F   0000           00008         nop
0060   0000           00009         nop
0061   0000           00010         nop
0062   0000           00011         nop
0063   0000           00012         nop
0064                  00013 Retardo_5micros
0064   0000           00014         nop
0065                  00015 Retardo_4micros
0065   0008           00016         return
                      00017 ;----------------------------------------
0066                  00018 Retardo_500micros
0066   0000           00019         nop
0067   30A4           00020         movlw   d'164'
0068   2872           00021         goto    RetardoMicros
0069                  00022 Retardo_200micros
0069   0000           00023         nop
006A   3040           00024         movlw   d'64'
006B   2872           00025         goto    RetardoMicros
006C                  00026 Retardo_100micros
006C   301F           00027         movlw   d'31'
006D   2872           00028         goto    RetardoMicros
006E                  00029 Retardos_50micros
006E   0000           00030         nop
006F   300E           00031         movlw   d'14'
0070   2872           00032         goto    RetardoMicros
0071                  00033 Retardo_20micros
0071   3005           00034         movlw   d'5'
                      00035 
0072                  00036 RetardoMicros
0072   008E           00037         movwf   R_ContA
0073                  00038 Rmicros_Bucle
0073   0B8E           00039         decfsz  R_ContA,F
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0074   2873           00040         goto    Rmicros_Bucle
0075   0008           00041         return
                      00042 ;----------------------------------------
0076                  00043 Retardo_200ms
0076   30C8           00044         movlw   d'200'
0077   2886           00045         goto    Retardos_ms
0078                  00046 Retardo_100ms
0078   3064           00047         movlw   d'100'
0079   2886           00048         goto    Retardos_ms
007A                  00049 Retardo_50ms
007A   3032           00050         movlw   d'50'
007B   2886           00051         goto    Retardos_ms
007C                  00052 Retardo_20ms
007C   3014           00053         movlw   d'20'
007D   2886           00054         goto    Retardos_ms
007E                  00055 Retardo_10ms
007E   300A           00056         movlw   d'10'
007F   2886           00057         goto    Retardos_ms
0080                  00058 Retardo_5ms
0080   3005           00059         movlw   d'5'
0081   2886           00060         goto    Retardos_ms
0082                  00061 Retardo_2ms
0082   3002           00062         movlw   d'2'
0083   2886           00063         goto    Retardos_ms
0084                  00064 Retardo_1ms
0084   3001           00065         movlw   d'1'
0085   2886           00066         goto    Retardos_ms
                      00067 
0086                  00068 Retardos_ms
0086   008F           00069         movwf   R_ContB
0087                  00070 Rlms_BucleExterno
0087   30F9           00071         movlw   d'249'
0088   008E           00072         movwf   R_ContA
0089                  00073 Rlms_BucleInterno
0089   0000           00074         nop
008A   0B8E           00075         decfsz  R_ContA,F
008B   2889           00076         goto    Rlms_BucleInterno
008C   0B8F           00077         decfsz  R_ContB,F
008D   2887           00078         goto    Rlms_BucleExterno
008E   0008           00079         return
                      00080 ;----------------------------------------
                      00081 
008F                  00082 Retardo_20s
008F   30C8           00083         movlw   d'200'
0090   289A           00084         goto    Retardo_lDecima
0091                  00085 Retardo_10s
0091   3064           00086         movlw   d'100'
0092   289A           00087         goto    Retardo_lDecima
0093                  00088 Retardo_5s
0093   3032           00089         movlw   d'50'
0094   289A           00090         goto    Retardo_lDecima
0095                  00091 Retardo_2s
0095   3014           00092         movlw   d'20'
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0096   289A           00093         goto    Retardo_lDecima
0097                  00094 Retardo_1s
0097   300A           00095         movlw   d'10'
0098   289A           00096         goto    Retardo_lDecima
0099                  00097 Retardo_500ms
0099   3005           00098         movlw   d'5'
009A                  00099 Retardo_lDecima
009A   0090           00100         movwf   R_ContC
009B                  00101 RlDecima_BucleExterno2
009B   3064           00102         movlw   d'100'
009C   008F           00103         movwf   R_ContB
009D                  00104 RlDecima_BucleExterno
009D   30F9           00105         movlw   d'249'
009E   008E           00106         movwf   R_ContA
009F                  00107 RlDecima_BucleInterno
009F   0000           00108         nop
00A0   0B8E           00109         decfsz  R_ContA,F
00A1   289F           00110         goto    RlDecima_BucleInterno
00A2   0B8F           00111         decfsz  R_ContB,F
00A3   289D           00112         goto    RlDecima_BucleExterno
00A4   0B90           00113         decfsz  R_ContC,F
00A5   289B           00114         goto    RlDecima_BucleExterno2
00A6   0008           00115         return
                      00053 
                      00054                 END
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  6


SYMBOL TABLE
  LABEL                             VALUE 

ASCII_a_7Segmentos                0000001A
C                                 00000000
Contador                          0000000C
DC                                00000001
Display                           PORTB
Display7s_Dato                    0000000D
EEADR                             00000009
EECON1                            00000088
EECON2                            00000089
EEDATA                            00000008
EEIE                              00000006
EEIF                              00000004
EsperaDejePulsar                  0000000C
F                                 00000001
FSR                               00000004
Fin                               0000000E
FinTablaASCII                     0000005F
GIE                               00000007
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
IncrementaVisualiza               0000000F
InicializaContador                00000013
Inicio                            00000000
InicioTablaASCII                  0000002F
NOT_PD                            00000003
NOT_RBPU                          00000007
NOT_TO                            00000004
Numero_a_7Segmentos               00000018
OPTION_REG                        00000081
PCL                               00000002
PCLATH                            0000000A
PORTA                             00000005
PORTB                             00000006
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
Principal                         00000006
Pulsador                          PORTA,4
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  7


SYMBOL TABLE
  LABEL                             VALUE 

RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RD                                00000000
RP0                               00000005
RP1                               00000006
R_ContA                           0000000E
R_ContB                           0000000F
R_ContC                           00000010
RetardoMicros                     00000072
Retardo_100micros                 0000006C
Retardo_100ms                     00000078
Retardo_10micros                  0000005F
Retardo_10ms                      0000007E
Retardo_10s                       00000091
Retardo_1ms                       00000084
Retardo_1s                        00000097
Retardo_200micros                 00000069
Retardo_200ms                     00000076
Retardo_20micros                  00000071
Retardo_20ms                      0000007C
Retardo_20s                       0000008F
Retardo_2ms                       00000082
Retardo_2s                        00000095
Retardo_4micros                   00000065
Retardo_500micros                 00000066
Retardo_500ms                     00000099
Retardo_50ms                      0000007A
Retardo_5micros                   00000064
Retardo_5ms                       00000080
Retardo_5s                        00000093
Retardo_lDecima                   0000009A
Retardos_50micros                 0000006E
Retardos_ms                       00000086
RlDecima_BucleExterno             0000009D
RlDecima_BucleExterno2            0000009B
RlDecima_BucleInterno             0000009F
Rlms_BucleExterno                 00000087
Rlms_BucleInterno                 00000089
Rmicros_Bucle                     00000073
STATUS                            00000003
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  8


SYMBOL TABLE
  LABEL                             VALUE 

TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
Visualiza                         00000014
W                                 00000000
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_CONFIG                           00002007
_CP_OFF                           00003FFF
_CP_ON                            0000000F
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_XT_OSC                           00003FFD
__16F84A                          00000001
MPASM  5.51                   PULSADOR_01.ASM   9-22-2021  12:55:06         PAGE  9


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXX--------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   167
Program Memory Words Free:   857


Errors   :     0
Warnings :     1 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

